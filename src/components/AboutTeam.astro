---
import employees from "../data/employees.json";

import InstagramIcon from "/src/icons/instagram.svg";
import FacebookIcon from "/src/icons/facebook.svg";
import TwitterIcon from "/src/icons/twitter.svg";

const icons = {
  instagram: InstagramIcon,
  facebook: FacebookIcon,
  twitter: TwitterIcon,
};
---

<section class="team" aria-labelledby="team-title">
  <div class="container">
    <p class="eyebrow">OUR TEAM</p>

    <h2 id="team-title" class="title">
      We champion the bold to<br />
      achieve the extraordinary
    </h2>

    <p class="lede">
      Our success stems from the synergy between dedicated teams and our valued
      clients. We prioritize a company culture that fosters exceptional
      productivity, ensures customer satisfaction, and promotes mutual respect
      among all team members.
    </p>

    <div class="cards">
      {
        employees.slice(0, 3).map((person) => (
          <article class="card">
            <figure class="photo">
              <img src={person.img} alt={person.name} />
              <span
                class={`tag ${
                  person.title === "CEO at Company" ? "yellow" : "dark"
                }`}
              >
                {person.title}
              </span>
            </figure>

            <h3 class="name">{person.name}</h3>
            <p class="bio">{person.description}</p>

            <div class="socials">
              {person.social_links.map((link) => {
                const Icon = icons[link.platform];
                return (
                  <a href={link.url} aria-label={link.platform} class="icon">
                    <Icon />
                  </a>
                );
              })}
            </div>
          </article>
        ))
      }
    </div>
  </div>
</section>

<style>
  :root {
    --black: #181818;
    --text: #595566;
    --tag-yellow: #ffcc4a;
    --tag-dark: rgba(0, 0, 0, 0.75);
  }

  .team {
    --photo-w: 327px;
    --photo-h: 347px;
    padding: 100px 0;
    background: #fff;
  }

  .container {
    width: min(1200px, 90%);
    margin-inline: auto;
  }

  .eyebrow {
    margin: 0 0 12px;
    font:
      400 16px/1 "Lato",
      sans-serif;
    letter-spacing: 2.32px;
    text-transform: uppercase;
    color: var(--black);
  }

  .title {
    margin: 0 0 20px;
    font:
      700 45px/1.16 "Cabin",
      sans-serif;
    color: var(--black);
  }

  .lede {
    margin: 0 0 80px;
    max-width: 643px;
    font:
      400 16px/1.475 "Lato",
      sans-serif;
    color: var(--text);
  }

  .cards {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    gap: 51px;
    flex-wrap: wrap;
  }

  .card {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: 25px;
    width: var(--photo-w);
  }

  .photo {
    position: relative;
    width: var(--photo-w);
    height: var(--photo-h);
    border-radius: 15px;
    overflow: hidden;
  }

  .photo img {
    width: 100%;
    height: 100% !important;
    object-fit: cover;
    display: block;
  }

  .tag {
    position: absolute;
    bottom: 25px;
    right: 21px;
    padding: 4px 21px;
    border-radius: 29px;
    text-align: right;
    font:
      600 14px/1 "Lato",
      sans-serif;
    backdrop-filter: blur(5.5px);
    -webkit-backdrop-filter: blur(5.5px);
  }

  .tag.yellow {
    background: var(--tag-yellow);
    color: var(--black);
  }

  .tag.dark {
    background: var(--tag-dark);
    color: #fff;
  }

  .name {
    font:
      700 30px/1.16 "Cabin",
      sans-serif;
    color: var(--black);
  }

  .bio {
    font:
      400 16px/1.475 "Lato",
      sans-serif;
    color: var(--text);
    max-width: 328px;
  }

  .socials {
    display: flex;
    gap: 10px;
  }

  .icon :global(svg) {
    width: 24px;
    height: 24px;
    fill: var(--black);
    opacity: 0.9;
    transition:
      transform 0.15s ease,
      opacity 0.15s ease;
  }

  .icon:hover :global(svg) {
    transform: translateY(-2px);
    opacity: 1;
  }

  @media (max-width: 1100px) {
    .cards {
      gap: 32px;
    }
  }

  @media (max-width: 640px) {
    .title {
      font-size: 34px;
    }

    .card {
      width: 100%;
    }

    .photo {
      width: 100%;
      height: auto;
      aspect-ratio: var(--photo-w) / var(--photo-h);
    }

    .bio {
      max-width: 100%;
    }
  }
</style>
