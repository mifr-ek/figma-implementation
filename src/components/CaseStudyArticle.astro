---
import data from "@data/caseStudy.json";
const { sections } = data;
---

<section class="case-wrapper" aria-labelledby="cs-title">
  {
    sections.map((sec, i) => (
      <article class="section" id={`sec-${i}`}>
        <h2 class="h2">{sec.title}</h2>

        {typeof sec.content === "string" && (
          <div class="prose">
            <p>{sec.content}</p>

            {sec.highlights && (
              <ul class="bullets">
                {sec.highlights.map((li) => (
                  <li>{li}</li>
                ))}
              </ul>
            )}
          </div>
        )}

        {Array.isArray(sec.content) && (
          <div class="prose">
            {sec.content.map((p) => (
              <p>{p}</p>
            ))}
          </div>
        )}

        {sec.image && (
          <figure class="figure">
            <img src={sec.image} alt="" />
          </figure>
        )}
      </article>
    ))
  }
</section>

<style>
  :root {
    --black: #181818;
    --text: #595566;
    --muted: #eaeaea;
    --container: 1200px;
    --col: 792px;
  }

  .case-wrapper {
    width: min(var(--container), 90%);
    margin-inline: auto;
    padding: 40px 0 120px;
  }

  .section {
    padding: 56px 0;
    border-top: 1px solid var(--muted);
  }
  .section:first-of-type {
    border-top: none;
  }

  .h2 {
    max-width: var(--col);
    margin: 0 auto 16px;
    color: var(--black);
    font:
      700 40px/1.16 "Cabin",
      sans-serif;
  }

  .prose {
    max-width: var(--col);
    margin-inline: auto;
  }

  .prose p {
    margin: 0 0 14px;
    color: var(--text);
    font:
      400 16px/1.475 "Lato",
      sans-serif;
  }

  .bullets {
    max-width: var(--col);
    margin: 16px auto 0;
    padding-left: 18px;
    list-style: disc outside;
    color: var(--text);
    font:
      400 16px/1.475 "Lato",
      sans-serif;
  }

  .figure {
    margin: 28px auto 0;
    border-radius: 14px;
    overflow: hidden;
  }
  .figure img {
    display: block;
    width: 100%;
    height: auto;
  }
</style>
